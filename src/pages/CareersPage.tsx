import React, { useEffect, useState } from "react";
import { motion } from "framer-motion";
import Header from "../components/Header";
import Footer from "../components/Footer";

// --- Data ---

const DEPARTMENTS = [
  {
    id: "finance",
    label: "FINANCE",
    icon: (
      <svg width="46" height="48" viewBox="0 0 46 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M35.4254 32.8285C35.4254 34.2666 36.586 35.4366 38.0125 35.4366C39.439 35.4366 40.5995 34.2666 40.5995 32.8285C40.5995 31.3903 39.439 30.2203 38.0125 30.2203C36.586 30.2203 35.4254 31.3903 35.4254 32.8285ZM38.0125 31.7203C38.6186 31.7203 39.1116 32.2175 39.1116 32.8285C39.1116 33.4394 38.6185 33.9366 38.0125 33.9366C37.4065 33.9366 36.9133 33.4394 36.9133 32.8285C36.9133 32.2175 37.4065 31.7203 38.0125 31.7203ZM45.7804 11.6865C45.6399 11.5458 45.4523 11.4695 45.2514 11.4685L41.2716 11.4936C41.2164 11.4257 41.149 11.366 41.0691 11.3195L21.7947 0.100576C21.6238 0.000920276 21.4207 -0.0258922 21.2302 0.0255765C21.0396 0.0771389 20.8772 0.202764 20.7785 0.375076L14.4098 11.496L3.81508 11.4685C3.81173 11.4685 3.80847 11.4685 3.80513 11.4685C2.79589 11.4685 1.84402 11.8668 1.12408 12.5909C0.399213 13.3197 0 14.2863 0 15.3127V47.25C0 47.6642 0.333096 48 0.743933 48H45.2561C45.6669 48 46 47.6642 46 47.25V12.2185C46 12.0188 45.921 11.8273 45.7804 11.6865ZM44.5121 36.4622H36.3254C35.2652 36.4622 34.4025 35.5927 34.4025 34.5237V31.1332C34.4025 30.0643 35.2651 29.1947 36.3254 29.1947H44.5121V36.4622ZM44.5121 17.6569H38.2988L40.9682 12.9955L44.5121 12.9732V17.6569ZM21.695 1.77457L39.6808 12.2435L36.5808 17.6569H32.9536C32.9916 17.526 32.9946 17.3863 32.9591 17.2525C32.9081 17.0603 32.7833 16.8965 32.6125 16.7971C30.9016 15.8012 30.3132 13.5879 31.3009 11.863C31.5063 11.5043 31.3844 11.0456 31.0286 10.8385L27.2281 8.62638C26.8724 8.41919 26.4173 8.5421 26.2118 8.90088C25.7333 9.73637 24.9607 10.3341 24.0363 10.5838C23.1121 10.8336 22.1464 10.7054 21.3177 10.2228C21.1468 10.1232 20.9438 10.0962 20.7532 10.1478C20.5626 10.1993 20.4001 10.325 20.3015 10.4973L16.2014 17.6569H12.5997L21.695 1.77457ZM31.2315 17.6569H17.9194L21.245 11.8499C22.2518 12.2536 23.3559 12.3205 24.4215 12.0327C25.4871 11.7449 26.4101 11.1303 27.0819 10.2732L29.6876 11.7899C28.8718 13.8678 29.5028 16.2608 31.2315 17.6569ZM2.1748 13.6529C2.61381 13.2114 3.19259 12.9685 3.80531 12.9685H3.81126L13.552 12.9938L10.8815 17.6569H3.81322C2.53105 17.6569 1.48787 16.6053 1.48787 15.3127C1.48787 14.6878 1.73188 14.0983 2.1748 13.6529ZM1.48787 46.5V18.3564C2.13202 18.8577 2.93835 19.1569 3.81322 19.1569H44.5121V27.6947H36.3254C34.4448 27.6947 32.9147 29.2372 32.9147 31.1332V34.5237C32.9147 36.4197 34.4448 37.9622 36.3254 37.9622H44.5121V46.5H1.48787Z" fill="currentColor"/> 
      </svg>
    ),
    description: "Le département de comptabilité et finance joue un rôle crucial dans la gestion d'une entreprise. Il assure la gestion des ressources financières, le suivi des dépenses et des recettes, et garantit la conformité avec la législation. Cela permet une prise de décision éclairée et soutient la croissance de l'entreprise .",
  },
  {
    id: "commercial",
    label: "COMMERCIAL",
    icon: (
      <svg width="62" height="48" viewBox="0 0 62 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fillRule="evenodd" clipRule="evenodd" d="M37.8918 9.90285L41.8939 3.00185C41.9909 2.83707 42.1495 2.71719 42.3349 2.66837C42.5204 2.61954 42.7178 2.64574 42.884 2.74125C43.0501 2.83676 43.1716 2.99382 43.2219 3.17815C43.2721 3.36249 43.2471 3.55914 43.1523 3.72519L39.1499 10.6262C39.0862 10.7363 38.9944 10.8277 38.8838 10.8912C38.7733 10.9547 38.6478 10.988 38.5202 10.9879C38.393 10.9882 38.268 10.955 38.158 10.8914C38.0753 10.844 38.0027 10.7807 37.9446 10.7054C37.8864 10.63 37.8437 10.5439 37.819 10.4521C37.7942 10.3603 37.7879 10.2645 37.8004 10.1703C37.8128 10.076 37.8438 9.98516 37.8916 9.90285H37.8918ZM19.0658 4.53448C18.971 4.36843 18.9459 4.17179 18.9962 3.98745C19.0465 3.80311 19.168 3.64605 19.3341 3.55055C19.5003 3.45504 19.6976 3.42884 19.8831 3.47766C20.0686 3.52648 20.2272 3.64636 20.3242 3.81115L24.3263 10.712C24.374 10.7943 24.405 10.8852 24.4175 10.9795C24.4299 11.0737 24.4236 11.1695 24.3989 11.2613C24.3741 11.3531 24.3314 11.4391 24.2733 11.5145C24.2151 11.5899 24.1426 11.6531 24.0598 11.7006C23.9773 11.7482 23.8861 11.7791 23.7915 11.7916C23.6969 11.804 23.6008 11.7978 23.5087 11.7731C23.4165 11.7485 23.3302 11.7059 23.2546 11.648C23.179 11.59 23.1156 11.5178 23.0682 11.4354L19.0658 4.53448ZM30.2735 8.69211V0.723338C30.2735 0.531497 30.35 0.347513 30.4863 0.211861C30.6225 0.0762085 30.8074 0 31.0001 0C31.1928 0 31.3776 0.0762085 31.5138 0.211861C31.6501 0.347513 31.7266 0.531497 31.7266 0.723338V8.69211C31.7266 8.88395 31.6501 9.06793 31.5138 9.20358C31.3776 9.33924 31.1928 9.41544 31.0001 9.41544C30.8074 9.41544 30.6225 9.33924 30.4863 9.20358C30.35 9.06793 30.2735 8.88395 30.2735 8.69211ZM54.5753 25.4629C54.4719 25.4628 54.3709 25.4322 54.285 25.375C54.1992 25.3178 54.1322 25.2365 54.0928 25.1414C54.0533 25.0463 54.043 24.9417 54.0632 24.8408C54.0834 24.7399 54.1333 24.6472 54.2064 24.5745C54.2795 24.5018 54.3726 24.4523 54.474 24.4322C54.5754 24.4122 54.6804 24.4225 54.7759 24.4619C54.8714 24.5013 54.953 24.568 55.0104 24.6536C55.0678 24.7391 55.0984 24.8397 55.0984 24.9426C55.0981 25.0806 55.0429 25.2129 54.9448 25.3104C54.8467 25.408 54.7138 25.4628 54.5752 25.4629H54.5753ZM54.5753 22.9755C54.1845 22.9756 53.8025 23.091 53.4776 23.3072C53.1527 23.5234 52.8995 23.8306 52.75 24.1901C52.6005 24.5495 52.5614 24.945 52.6377 25.3266C52.714 25.7082 52.9022 26.0586 53.1786 26.3337C53.4549 26.6088 53.807 26.7961 54.1903 26.872C54.5736 26.9478 54.9709 26.9088 55.3319 26.76C55.6929 26.6111 56.0015 26.3589 56.2186 26.0354C56.4357 25.712 56.5516 25.3317 56.5516 24.9426C56.5511 24.421 56.3426 23.9209 55.9721 23.5521C55.6015 23.1833 55.0991 22.9759 54.5752 22.9755H54.5753ZM7.16943 25.4629C7.06608 25.4628 6.96509 25.4322 6.87922 25.3749C6.79335 25.3177 6.72645 25.2364 6.68699 25.1413C6.64752 25.0462 6.63726 24.9416 6.65749 24.8407C6.67773 24.7398 6.72755 24.6472 6.80067 24.5745C6.87379 24.5018 6.96692 24.4523 7.06829 24.4322C7.16966 24.4122 7.27471 24.4226 7.37018 24.462C7.46565 24.5014 7.54724 24.568 7.60465 24.6536C7.66205 24.7392 7.69269 24.8397 7.69269 24.9426C7.6927 25.011 7.67918 25.0787 7.65288 25.1419C7.62658 25.2051 7.58803 25.2625 7.53943 25.3108C7.49083 25.3591 7.43313 25.3974 7.36964 25.4235C7.30615 25.4496 7.23812 25.463 7.16943 25.4629ZM7.16943 22.9755C6.77864 22.9756 6.39666 23.091 6.07178 23.3072C5.7469 23.5235 5.49372 23.8307 5.34423 24.1902C5.19475 24.5496 5.15569 24.9451 5.23199 25.3267C5.30829 25.7082 5.49652 26.0587 5.77288 26.3337C6.04924 26.6088 6.40132 26.7961 6.7846 26.872C7.16788 26.9478 7.56515 26.9088 7.92618 26.7599C8.28721 26.611 8.59578 26.3589 8.81288 26.0354C9.02998 25.7119 9.14586 25.3316 9.14586 24.9426C9.14525 24.421 8.93681 23.9209 8.56627 23.5521C8.19574 23.1834 7.69338 22.976 7.16943 22.9755ZM60.5069 25.5448C60.5586 25.4254 60.5611 25.2906 60.5137 25.1695L54.7894 10.7643C54.741 10.6437 54.6466 10.5469 54.5269 10.4952C54.4071 10.4436 54.2717 10.4412 54.1501 10.4885L47.1674 13.2372C47.0464 13.286 46.9496 13.3802 46.8978 13.4994C46.846 13.6187 46.8433 13.7534 46.8904 13.8746L52.6135 28.2798C52.6618 28.4009 52.7563 28.4979 52.8764 28.5496C52.9964 28.6013 53.1322 28.6035 53.2539 28.5556L60.2366 25.806C60.3579 25.7579 60.4552 25.6638 60.5069 25.5444V25.5448ZM44.5318 27.8121L37.3508 23.6858C36.8526 23.39 36.2988 23.199 35.7235 23.1246C35.1483 23.0503 34.5638 23.0942 34.0063 23.2536C31.8847 23.8285 29.7848 24.4592 27.7684 25.1274C27.737 25.1378 27.7063 25.1503 27.6765 25.1649C25.2887 26.337 23.4248 25.9276 21.8665 23.8672C24.825 22.1879 27.5606 20.1464 30.0095 17.7902C31.3425 16.9987 32.8564 16.5591 34.4079 16.513C35.9593 16.4669 37.4969 16.8159 38.8749 17.527C40.4869 18.5045 42.9415 18.1667 46.3689 16.4954L50.8879 27.8684L46.1493 29.9785C46.0422 29.5267 45.8435 29.1015 45.5653 28.729C45.2871 28.3565 44.9353 28.0445 44.5316 27.8123L44.5318 27.8121ZM44.5266 31.7485C44.7877 31.2973 44.8584 30.7615 44.7231 30.2585C44.5879 29.7555 44.2577 29.3265 43.8051 29.0655L36.6254 24.9392C36.293 24.7394 35.9225 24.6104 35.5375 24.5606C35.1524 24.5108 34.7611 24.5412 34.3885 24.6499C32.308 25.2128 30.2517 25.8299 28.274 26.485C25.0192 28.0619 22.2276 27.2067 20.2031 24.0101C20.1503 23.9266 20.1152 23.8333 20.0999 23.7358C20.0847 23.6383 20.0896 23.5388 20.1145 23.4433C20.1393 23.3478 20.1835 23.2583 20.2443 23.1805C20.3052 23.1026 20.3813 23.0379 20.4682 22.9904C23.6028 21.2884 26.491 19.1711 29.054 16.6963C29.0732 16.678 29.0935 16.6607 29.1146 16.6446C27.2176 16.0378 25.0497 16.09 22.648 16.8083C21.0507 17.3044 19.3241 17.1817 17.8138 16.4649C17.2533 16.2067 16.6419 15.925 15.9795 15.6199L11.1885 27.6759L11.858 27.9471C12.1984 28.0835 12.4927 28.3135 12.7068 28.6102C12.9208 28.9069 13.0456 29.2581 13.0666 29.6228C13.0775 29.8093 13.109 30.0794 13.1455 30.3916C13.493 30.136 13.8859 29.9479 14.3034 29.8371C15.0855 29.626 15.9175 29.699 16.6506 30.0428C17.3836 30.3866 17.9698 30.9789 18.3043 31.7137C18.7523 31.0744 19.4068 30.6071 20.1587 30.3898C20.9107 30.1725 21.7147 30.2181 22.4369 30.5192C23.1592 30.8203 23.756 31.3586 24.128 32.0444C24.5001 32.7303 24.6249 33.5224 24.4816 34.2887C25.2623 34.1576 26.0644 34.3022 26.7493 34.6975C27.3396 35.0379 27.8146 35.5457 28.1138 36.1561C28.4129 36.7664 28.5226 37.4517 28.4288 38.1244C29.2306 37.9742 30.0599 38.1154 30.766 38.5222C30.9042 38.6016 31.0364 38.6907 31.1618 38.7889L34.5006 40.6735L34.5029 40.6694C34.5441 40.6935 34.5828 40.7176 34.6229 40.7428L35.0205 40.9669C35.4747 41.2252 36.0129 41.2948 36.5184 41.1608C37.0238 41.0268 37.4559 40.6999 37.721 40.251C37.9802 39.7994 38.0499 39.2641 37.9147 38.7617C37.7796 38.2592 37.4507 37.8302 36.9995 37.568L33.2597 35.4188C33.0942 35.3222 32.9738 35.1644 32.9247 34.9797C32.8757 34.795 32.902 34.5986 32.998 34.4331C33.0939 34.2677 33.2517 34.1468 33.4368 34.0967C33.622 34.0467 33.8195 34.0716 33.9863 34.166L37.7256 36.3144C37.7256 36.3144 37.7268 36.3144 37.7268 36.3156L38.663 36.8536C39.1162 37.114 39.6548 37.1846 40.1603 37.0497C40.6658 36.9149 41.0967 36.5856 41.3584 36.1344C41.62 35.6833 41.6909 35.1471 41.5554 34.6438C41.42 34.1406 41.0892 33.7116 40.636 33.4511L36.4288 31.0326C36.3455 30.9855 36.2724 30.9224 36.2137 30.847C36.155 30.7716 36.1119 30.6854 36.0868 30.5933C36.0617 30.5013 36.0551 30.4052 36.0674 30.3106C36.0798 30.216 36.1108 30.1248 36.1587 30.0421C36.2066 29.9595 36.2705 29.8872 36.3466 29.8292C36.4227 29.7713 36.5096 29.7289 36.6022 29.7045C36.6949 29.6801 36.7915 29.6742 36.8864 29.6871C36.9813 29.7001 37.0728 29.7316 37.1554 29.7798L41.3619 32.1978L41.8309 32.4674C42.2847 32.7256 42.8226 32.7949 43.3275 32.6602C43.8323 32.5254 44.2633 32.1976 44.5265 31.748L44.5266 31.7485ZM34.4987 44.6063C34.2367 45.0569 33.8059 45.3856 33.3008 45.5204C32.7957 45.6551 32.2575 45.5849 31.8043 45.3252L31.0342 44.8827L32.0207 43.1818C32.371 42.5782 32.5262 41.8819 32.4651 41.1874L33.8446 41.966C34.2745 42.2373 34.5825 42.6633 34.7044 43.1553C34.8262 43.6473 34.7525 44.1671 34.4986 44.6062L34.4987 44.6063ZM28.9573 45.5708C28.6899 46.0105 28.2601 46.3284 27.76 46.4563C27.26 46.5842 26.7295 46.512 26.2823 46.2552C25.835 45.9983 25.5067 45.5772 25.3677 45.0822C25.2287 44.5872 25.29 44.0577 25.5386 43.6071L27.3453 40.492C27.6072 40.0409 28.0383 39.7119 28.5438 39.5773C29.0494 39.4427 29.5879 39.5136 30.041 39.7743C30.494 40.035 30.8245 40.4642 30.9597 40.9674C31.0949 41.4707 31.0237 42.0068 30.7619 42.4579L28.9575 45.5714L28.9573 45.5708ZM23.0816 43.7948C22.7049 43.8964 22.3063 43.8842 21.9365 43.7598C21.5667 43.6355 21.2423 43.4045 21.0046 43.0963C20.7669 42.7881 20.6265 42.4166 20.6013 42.0288C20.576 41.641 20.6671 41.2545 20.8629 40.9184L23.3272 36.6692C23.4568 36.4458 23.6294 36.25 23.835 36.093C24.0406 35.936 24.2753 35.8208 24.5256 35.7541C24.776 35.6874 25.0371 35.6704 25.294 35.7041C25.5509 35.7378 25.7987 35.8216 26.0231 35.9506C26.2475 36.0796 26.4442 36.2514 26.6019 36.4561C26.7596 36.6608 26.8753 36.8945 26.9423 37.1437C27.0094 37.3929 27.0264 37.6528 26.9926 37.9086C26.9587 38.1644 26.8745 38.411 26.7449 38.6344L26.0863 39.7707L24.2806 42.8842C24.1513 43.1075 23.9788 43.3031 23.773 43.4596C23.5672 43.6161 23.3322 43.7304 23.0817 43.7958L23.0816 43.7948ZM18.4059 41.1079C18.0292 41.2093 17.6306 41.1971 17.2608 41.0727C16.891 40.9484 16.5667 40.7175 16.3289 40.4094C16.0911 40.1012 15.9505 39.7297 15.9251 39.342C15.8997 38.9542 15.9905 38.5677 16.1861 38.2314L18.1563 34.8341C18.1563 34.8341 18.1574 34.8341 18.1574 34.833L19.4033 32.6834C19.6692 32.2406 20.0994 31.9196 20.601 31.7899C21.1026 31.6601 21.6353 31.7319 22.0841 31.9898C22.533 32.2477 22.862 32.6709 23 33.1682C23.1381 33.6655 23.0742 34.1969 22.8221 34.6476L19.6048 40.1956C19.4755 40.4191 19.303 40.6147 19.0972 40.7713C18.8914 40.9279 18.6564 41.0423 18.4059 41.1079ZM12.2321 38.2266C11.781 37.9643 11.4521 37.5352 11.317 37.0328C11.1819 36.5303 11.2515 35.9951 11.5106 35.5435L13.4808 32.1462C13.7424 31.695 14.1734 31.3658 14.6789 31.2309C15.1844 31.096 15.7229 31.1666 16.1762 31.4271C16.6294 31.6876 16.9601 32.1166 17.0956 32.6198C17.231 33.1231 17.1602 33.6592 16.8985 34.1104L14.9278 37.5077C14.6656 37.9584 14.2346 38.2873 13.7293 38.422C13.2239 38.5568 12.6855 38.4865 12.2321 38.2266ZM8.74599 28.5559C8.86774 28.6036 9.00352 28.6014 9.12364 28.5498C9.24376 28.4981 9.33843 28.4012 9.38696 28.2802L15.1095 13.8749C15.1568 13.7538 15.1543 13.6189 15.1024 13.4996C15.0505 13.3803 14.9536 13.2862 14.8325 13.2376L7.84975 10.4889C7.79296 10.4661 7.73225 10.4545 7.67101 10.4548C7.57201 10.4549 7.4753 10.4844 7.3933 10.5397C7.3113 10.5949 7.24776 10.6733 7.21084 10.7647L1.48621 25.1695C1.43904 25.2907 1.44174 25.4255 1.49371 25.5448C1.51919 25.604 1.55618 25.6576 1.60255 25.7025C1.64891 25.7474 1.70374 25.7827 1.76388 25.8064L8.74599 28.5559ZM56.1408 10.2321C55.9507 9.75442 55.5778 9.37142 55.1042 9.16721C54.6306 8.96301 54.0949 8.9543 53.6149 9.14299L46.6337 11.8926C46.154 12.0822 45.7694 12.4533 45.5641 12.9247C45.3589 13.396 45.3497 13.9292 45.5386 14.4073L45.8317 15.1437C42.9002 16.5876 40.7529 16.984 39.6155 16.2828C39.6012 16.2732 39.5863 16.2645 39.571 16.2567C38.2341 15.5628 36.7637 15.1613 35.2583 15.079C33.7529 14.9967 32.2472 15.2355 30.842 15.7795C28.3623 14.575 25.4668 14.4545 22.2302 15.4224C20.9739 15.8198 19.6124 15.7233 18.4253 15.1528C17.8415 14.8838 17.2024 14.5894 16.5082 14.2696C16.6538 13.8031 16.617 13.299 16.4053 12.8583C16.1936 12.4176 15.8225 12.0727 15.3663 11.8926L8.385 9.14299C7.90492 8.95446 7.36932 8.96326 6.89575 9.16744C6.42218 9.37163 6.04933 9.75453 5.85903 10.2321L0.135848 24.6378C-0.0534233 25.1157 -0.0446085 25.6488 0.16036 26.1202C0.365328 26.5916 0.749719 26.9629 1.22924 27.1525L8.21195 29.9014C8.6556 30.0758 9.14813 30.0819 9.596 29.9186C10.0439 29.7553 10.4159 29.4339 10.6414 29.0155L11.3097 29.2873C11.3973 29.3198 11.4732 29.3775 11.5277 29.4531C11.5822 29.5286 11.6129 29.6186 11.6159 29.7116C11.6308 29.9464 11.6655 30.2512 11.7084 30.6037C11.7568 31.0223 11.8158 31.5306 11.8547 32.0566L10.2523 34.8198C9.89502 35.4348 9.73965 36.1456 9.80791 36.8528C9.87618 37.5601 10.1647 38.2284 10.6331 38.7644C11.1015 39.3005 11.7264 39.6775 12.4205 39.8427C13.1146 40.0079 13.8432 39.9531 14.5045 39.686C14.5703 40.1649 14.7379 40.6242 14.9961 41.0334C15.2544 41.4426 15.5973 41.7923 16.0021 42.0591C16.4068 42.3259 16.8641 42.5037 17.3434 42.5806C17.8226 42.6575 18.3129 42.6317 18.7813 42.505C18.9171 42.4688 19.0505 42.4245 19.181 42.3724C19.2934 43.1857 19.6973 43.9312 20.3184 44.4714C20.9394 45.0116 21.7357 45.3101 22.5604 45.3118C23.0051 45.312 23.4457 45.2263 23.8576 45.0593C23.8774 45.1983 23.9052 45.3359 23.941 45.4717C24.1161 46.1232 24.4812 46.7084 24.9904 47.1533C25.4996 47.5981 26.1299 47.8826 26.8015 47.9707C27.4732 48.0589 28.156 47.9467 28.7636 47.6485C29.3712 47.3502 29.8762 46.8792 30.2149 46.2951L30.3074 46.1358L31.0774 46.5784C31.6696 46.9195 32.3508 47.0761 33.0332 47.0281C33.7157 46.9801 34.368 46.7297 34.9061 46.3091C35.4442 45.8885 35.8433 45.317 36.0521 44.6684C36.2609 44.0199 36.2696 43.3239 36.0773 42.6703C36.5827 42.6628 37.0802 42.5436 37.5336 42.3212C37.9871 42.0988 38.3852 41.7789 38.6992 41.3845C39.0132 40.9901 39.2351 40.5312 39.3491 40.0409C39.463 39.5506 39.466 39.0413 39.358 38.5497C39.4534 38.5576 39.5482 38.5634 39.6435 38.5634C40.1695 38.5649 40.6888 38.4456 41.1609 38.2148C41.633 37.984 42.0454 37.6479 42.3658 37.2326C42.6862 36.8173 42.9061 36.3341 43.0084 35.8204C43.1107 35.3068 43.0926 34.7766 42.9555 34.271C42.9469 34.2374 42.9361 34.2056 42.9269 34.1731C43.1895 34.1643 43.4501 34.1257 43.7039 34.0582C44.139 33.9439 44.547 33.7448 44.9044 33.4725C45.2618 33.2002 45.5614 32.8602 45.786 32.4719C45.9502 32.1877 46.0726 31.8815 46.1493 31.5626L51.4668 29.194C51.716 29.5562 52.0814 29.8234 52.503 29.9519C52.9247 30.0805 53.3776 30.0627 53.7878 29.9014L60.7705 27.1519C61.2502 26.9625 61.6348 26.5916 61.8398 26.1198C62.0448 25.6483 62.0534 25.1151 61.8638 24.6372L56.1408 10.2321Z" fill="currentColor"/>
      </svg>
    ),
    description: "Le service commercial d'Aymen Promotion transforme votre expérience immobilière avec une approche sur-mesure : Expertise de marché pour des conseils personnalisés, Accompagnement client pour une satisfaction optimale, et Suivi dédié pour concrétiser vos projets immobiliers en toute confiance",
  },
  {
    id: "marketing",
    label: "MARKETING",
    icon: (
      <svg width="45" height="45" viewBox="0 0 71 65" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M70.9933 23.6983V24.669C70.6164 25.2014 70.1968 25.5365 69.5248 25.6272C68.1791 25.8103 64.4013 25.7881 63.02 25.6396C60.8484 25.4067 60.9266 22.9507 62.8822 22.7276C64.2493 22.5712 68.3328 22.5516 69.6635 22.7401C70.3444 22.8361 70.5951 23.2041 70.9933 23.6983Z" fill="currentColor"/>
        <path d="M54.4996 25.2352C54.4223 25.3463 54.7974 25.9756 54.8845 26.149C56.2916 28.9481 60.8072 35.1739 61.1085 37.8112C61.6845 42.8423 56.1547 46.189 51.9236 43.3916C51.5405 43.1383 51.153 42.645 50.8765 42.4974C49.8792 41.965 44.3085 42.0503 42.9156 42.1419C36.7254 42.5463 30.7183 44.4405 24.9574 46.5792L32.6961 56.7952C34.7894 59.4725 32.1094 61.9694 30.0152 63.4912C28.5841 64.5303 27.2552 64.6441 25.7859 63.5667L17.0525 52.3241C16.7494 52.1596 14.9796 53.1632 14.449 53.333C2.32274 57.2023 -6.53592 40.7481 6.28363 32.8263C7.33252 32.1783 12.9156 28.845 13.6561 28.8156C13.9459 28.8041 14.2587 28.9525 14.473 28.9303C15.3965 28.8316 22.1992 22.1934 23.2259 21.0663C25.9299 18.1019 29.0312 13.8414 30.6223 10.1596C31.489 8.15518 30.9076 8.48496 30.9085 6.71252C30.9103 0.891184 38.7903 -1.43415 41.8472 3.54985L47.833 13.933C53.897 10.9241 60.1627 17.6618 56.4072 23.4645C55.9547 24.1632 55.2952 24.9374 54.4996 25.2361V25.2352ZM36.4347 3.62807C34.0623 3.91874 33.0952 6.61829 34.3636 8.53918L52.6294 40.1907C54.8561 43.1881 59.1094 41.0307 58.1663 37.5658L39.4392 4.98896C38.7139 4.02718 37.6587 3.47785 36.4347 3.62807ZM48.9459 39.3658L32.9299 11.7747C31.297 15.2139 29.1307 18.4263 26.6934 21.3436C23.5547 25.101 19.8685 28.3107 16.0979 31.4139L23.5156 44.2103C31.5085 40.8974 40.2214 38.7232 48.9459 39.3658ZM49.2241 16.3516L53.1672 22.8619C56.6854 19.8903 53.521 14.6725 49.2241 16.3516ZM13.2979 32.165C11.4561 33.0796 9.5663 34.0992 7.80897 35.1836C6.40363 36.0512 5.28719 36.6743 4.32274 38.0761C0.216967 44.0405 4.82674 51.6796 11.9903 51.013C15.1983 50.7143 18.3876 47.6103 21.3467 46.4325L13.2979 32.165ZM27.4819 61.3845C27.9539 61.5534 28.281 61.2494 28.6285 60.9943C28.8232 60.8512 30.4472 59.3819 30.5121 59.2725C30.6196 59.0921 30.7085 58.9676 30.6187 58.7463L22.8721 48.7134L19.4276 50.805L27.481 61.3836L27.4819 61.3845Z" fill="currentColor"/>
        <path d="M56.2631 0.0126332C57.4097 -0.126033 58.1039 0.899743 57.7866 1.96463C56.5279 3.71397 55.5884 6.38863 54.2728 8.01708C53.103 9.46419 51.3448 8.46685 51.7857 6.77708C53.0106 4.95485 53.9475 2.51752 55.2088 0.772632C55.4657 0.417965 55.7991 0.0677443 56.2631 0.0126332Z" fill="currentColor"/>
        <path d="M64.7157 10.2793C66.1565 9.89267 67.041 11.7051 66.0081 12.682L60.1414 16.1051C58.5343 16.714 57.3681 14.9753 58.6499 13.7825C60.0525 12.4776 63.0623 11.4082 64.7157 10.2802V10.2793Z" fill="currentColor"/>
      </svg>
    ),
    description: "Le département Marketing d’Aymen Promotion façonne l’immobilier de luxe grâce à ses pôles spécialisés : Art & Cinéma pour le storytelling, Brand pour l’image de marque, Marketing Digital pour la visibilité, Technologie pour l’innovation, Call Center pour l’expérience client et Opérations pour une exécution optimale.",
  },
  {
    id: "technique",
    label: "TECHNIQUE",
    icon: (
      <svg width="45" height="48" viewBox="0 0 45 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M43.0212 45.7395H43.001V17.9737C43.001 17.9337 43.001 17.8938 42.9944 17.8543C42.9944 17.8477 42.9944 17.8407 42.9944 17.8341C42.9879 17.8078 42.9879 17.7744 42.9813 17.7481C42.9813 17.735 42.9747 17.7147 42.9681 17.7016C42.9616 17.6818 42.9616 17.6621 42.955 17.6419C42.9484 17.6222 42.9413 17.6024 42.9347 17.5822C42.9282 17.569 42.9282 17.5559 42.9216 17.5427C42.915 17.5225 42.9019 17.5028 42.8953 17.4831C42.8887 17.4694 42.8816 17.4562 42.8751 17.4431C42.8619 17.4234 42.8553 17.4031 42.8422 17.39C42.8356 17.3768 42.829 17.3637 42.822 17.3505C42.8088 17.3369 42.8022 17.3171 42.7891 17.304C42.7759 17.2908 42.7693 17.2772 42.7557 17.264C42.7425 17.2509 42.736 17.2377 42.7228 17.2246C42.7097 17.2109 42.696 17.1912 42.6829 17.178C42.6763 17.1649 42.6631 17.1578 42.65 17.1512C42.6363 17.1381 42.6166 17.1184 42.6034 17.1052C42.5969 17.0981 42.5837 17.0916 42.5701 17.0784C42.5503 17.0653 42.5306 17.0521 42.5174 17.0389C42.5038 17.0319 42.4906 17.0253 42.4841 17.0187C42.4643 17.0056 42.4441 16.9924 42.431 16.9858C42.4112 16.9793 42.3981 16.9656 42.3778 16.959C42.3647 16.9525 42.345 16.9459 42.3318 16.9393C42.305 16.9262 42.2787 16.9196 42.2519 16.9125C42.2453 16.9125 42.2387 16.9059 42.2256 16.9059C42.1922 16.8928 42.1528 16.8862 42.1194 16.8796H42.1128L36.5766 15.7193V4.31614C36.5766 4.27618 36.5766 4.23672 36.5701 4.19676C36.5701 4.19019 36.5701 4.18361 36.5635 4.16995C36.5569 4.14365 36.5569 4.11027 36.5503 4.08397C36.5438 4.06424 36.5438 4.05058 36.5372 4.03743C36.5306 4.0177 36.5306 3.99798 36.524 3.98432C36.5175 3.96459 36.5104 3.94487 36.5038 3.92463C36.4972 3.91148 36.4972 3.89833 36.4906 3.88518C36.4841 3.86495 36.4709 3.84522 36.4643 3.81892C36.4578 3.80577 36.4507 3.79211 36.4441 3.78553C36.431 3.76581 36.4244 3.74608 36.4112 3.72585C36.4047 3.7127 36.3981 3.69954 36.391 3.69297C36.3778 3.67931 36.3713 3.65959 36.3581 3.64643C36.345 3.63328 36.3384 3.62013 36.3247 3.60647C36.3116 3.59332 36.305 3.58017 36.2919 3.56702C36.2787 3.55336 36.265 3.54021 36.2519 3.52049C36.2387 3.50733 36.2322 3.50076 36.219 3.49368C36.2054 3.48053 36.1856 3.4608 36.1725 3.44765C36.1593 3.44107 36.1528 3.4345 36.1391 3.42084C36.1194 3.40769 36.1062 3.39454 36.0865 3.38139C36.0728 3.37481 36.0597 3.36773 36.0465 3.36115C36.0268 3.348 36.0131 3.34143 35.9934 3.32828C35.9737 3.3217 35.9605 3.30804 35.9403 3.30147C35.9272 3.29489 35.914 3.28832 35.8938 3.28174C35.8675 3.26859 35.8341 3.26201 35.8078 3.24886C35.8012 3.24886 35.7946 3.24178 35.7881 3.24178C35.7481 3.22863 35.7081 3.22205 35.6687 3.2089L20.3869 0.0131512C20.3536 0.00657561 20.3207 0 20.2939 0C20.2873 0 20.2807 0 20.2742 0C20.2544 0 20.2342 0 20.2145 0C20.1947 0 20.1745 0 20.1614 0C20.1614 0 20.1614 0 20.1548 0C20.1351 0 20.1214 0 20.1017 0C20.0819 0 20.0617 0 20.0486 0C20.0223 0 20.002 0.00657561 19.9757 0.0131512C19.9626 0.0131512 19.9494 0.0131512 19.9428 0.0197269H19.9358H19.9292L7.35255 2.47951C7.31917 2.48609 7.29287 2.49267 7.25948 2.49924C7.25291 2.49924 7.24633 2.49924 7.23976 2.50632C7.21345 2.5129 7.18665 2.52605 7.16034 2.53263C7.15377 2.53263 7.14719 2.5392 7.13354 2.5392C7.11381 2.54578 7.09408 2.55893 7.08093 2.5655C6.93475 2.63885 6.8088 2.73141 6.70966 2.85078C6.70966 2.85736 6.70258 2.85736 6.70258 2.86394C6.696 2.87759 6.68943 2.88417 6.67628 2.89732C6.60344 2.99646 6.54375 3.10926 6.50379 3.22863C6.50379 3.2352 6.49722 3.24178 6.49722 3.24178C6.49064 3.25544 6.49064 3.26859 6.48407 3.28174C6.47749 3.30147 6.47092 3.32828 6.46434 3.348V3.36773C6.45726 3.40111 6.45068 3.42742 6.45068 3.4608V3.47395C6.45068 3.50733 6.44411 3.54021 6.44411 3.5736V12.3515L2.06171 13.2135C2.02883 13.22 1.99545 13.2266 1.96257 13.2398C1.95599 13.2398 1.95599 13.2398 1.94942 13.2463C1.91603 13.2529 1.88973 13.2666 1.85635 13.2797C1.84977 13.2797 1.8432 13.2863 1.83662 13.2863C1.81639 13.2929 1.79666 13.306 1.77693 13.3126C1.64441 13.3789 1.52504 13.4719 1.42539 13.5781C1.41882 13.5847 1.41224 13.5979 1.39909 13.6045C1.39251 13.611 1.38543 13.6242 1.37886 13.6378C1.29287 13.7501 1.22661 13.8827 1.18665 14.0223C1.18007 14.0486 1.1735 14.0683 1.16692 14.0951V14.1082C1.16034 14.1416 1.15377 14.1745 1.15377 14.2079V14.2145C1.14719 14.2473 1.14719 14.2873 1.14719 14.3207V45.7461H1.12696C0.503794 45.7461 0 46.2499 0 46.873C0 47.4962 0.503794 48 1.12696 48H43.0278C43.651 48 44.1548 47.4962 44.1548 46.873C44.1482 46.2433 43.6444 45.7395 43.0212 45.7395ZM19.7769 14.4729C19.8629 14.5063 19.9626 14.526 20.0551 14.5326L40.7471 18.8751V22.6409L14.8776 17.2109V13.4451L19.7769 14.4729ZM40.7471 28.5018L14.8776 23.0718V19.1072L40.7471 24.5372V28.5018ZM40.7471 30.3981V34.3227L14.8776 28.9327V24.9681L40.7471 30.3981ZM14.8776 30.8285L40.7471 36.2256V40.1902L14.8776 34.8002V30.8285ZM40.7471 42.0865V45.7395H14.8776V36.6894L40.7471 42.0865ZM21.2752 12.4841V2.49924L34.3161 5.22408V15.2221L21.2752 12.4841ZM8.68488 4.50177L19.0212 2.47951V12.0132L13.9823 10.959C13.9691 10.959 13.9494 10.9525 13.9358 10.9525C13.9226 10.9525 13.9029 10.9459 13.8897 10.9459C13.8629 10.9393 13.8366 10.9393 13.8098 10.9393C13.7967 10.9393 13.7835 10.9393 13.7704 10.9393C13.737 10.9393 13.7041 10.9393 13.6707 10.9393C13.6641 10.9393 13.6576 10.9393 13.651 10.9393C13.611 10.9459 13.5645 10.9459 13.525 10.959L8.68488 11.9074V4.50177ZM3.39454 15.2418L7.61103 14.4133C7.72382 14.4067 7.83662 14.3869 7.93576 14.347L12.6232 13.4254V17.2043L5.03187 18.7759C4.52807 18.8816 4.20991 19.3723 4.30956 19.8695C4.40212 20.307 4.78655 20.612 5.2175 20.612C5.27719 20.612 5.34345 20.6055 5.40314 20.5923L12.6166 19.1007V23.0653L5.02529 24.6363C4.5215 24.7425 4.20334 25.2332 4.30298 25.7304C4.39555 26.1679 4.77997 26.4729 5.21093 26.4729C5.27061 26.4729 5.33687 26.4664 5.39656 26.4532L12.61 24.9616V28.9327L5.01872 30.5038C4.51492 30.61 4.19676 31.1007 4.29641 31.5979C4.38897 32.0354 4.77339 32.3404 5.20435 32.3404C5.26404 32.3404 5.3303 32.3338 5.38998 32.3207L12.6034 30.8285V34.7936L5.01214 36.3647C4.50835 36.4709 4.19019 36.9616 4.28933 37.4588C4.3824 37.8963 4.76682 38.2013 5.19777 38.2013C5.25746 38.2013 5.32372 38.1947 5.38341 38.1811L12.6232 36.6894V45.7395H3.39454V15.2418Z" fill="currentColor"/>
        <path d="M31.9755 8.77157L24.0195 7.13373C23.5157 7.02802 23.025 7.35275 22.9259 7.85655C22.8197 8.36034 23.1444 8.85098 23.6482 8.95063L31.6042 10.588C31.6705 10.6011 31.7301 10.6082 31.7898 10.6082C32.2208 10.6082 32.6052 10.3032 32.6983 9.86565C32.804 9.36793 32.4793 8.87779 31.9755 8.77157Z" fill="currentColor"/>
      </svg>
    ),
    description: "Le service technique constitue le cœur opérationnel de la promotion immobilière : il assure l’analyse du site, la conception architecturale, la préparation des dossiers techniques et le suivi de chantier jusqu’à la réception du projet, garantissant qualité, conformité et délais.",
  },
  {
    id: "rh",
    label: "RESSOURCES HUMAINES",
    icon: (
      <svg width="68" height="48" viewBox="0 0 68 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.379 22.9261C9.05211 22.9261 5.53223 19.4381 5.53223 15.1523C5.53223 10.8659 9.05211 7.37793 13.379 7.37793C17.7053 7.37793 21.2247 10.8653 21.2247 15.1523C21.2247 19.4387 17.7053 22.9261 13.379 22.9261ZM13.379 9.55975C10.2549 9.55975 7.71404 12.0686 7.71404 15.1523C7.71404 18.2354 10.2549 20.7442 13.379 20.7442C16.502 20.7442 19.0429 18.2354 19.0429 15.1523C19.0429 12.0686 16.502 9.55975 13.379 9.55975Z" fill="currentColor"/>
        <path d="M16.5357 44.4505H2.85139C1.27894 44.4505 0 43.1796 0 41.6172V38.0489C0 30.7438 6.0016 24.8003 13.3791 24.8003C16.2805 24.8003 19.0424 25.7058 21.3638 27.4184C21.8485 27.7763 21.9519 28.4592 21.5939 28.9445C21.236 29.4287 20.5536 29.532 20.0684 29.1746C18.1246 27.7406 15.8118 26.9821 13.3791 26.9821C7.2049 26.9821 2.18182 31.9471 2.18182 38.0489V41.6172C2.18182 41.9763 2.48224 42.2687 2.85139 42.2687H16.5362C17.1381 42.2687 17.6271 42.7571 17.6271 43.3596C17.6271 43.9615 17.1381 44.4505 16.5357 44.4505Z" fill="currentColor"/>
        <path d="M64.7852 43.6248H51.1009C50.4989 43.6248 50.01 43.1363 50.01 42.5339C50.01 41.932 50.4989 41.443 51.1009 41.443H64.7857C65.1548 41.443 65.4553 41.1511 65.4553 40.792V37.2237C65.4553 31.1209 60.4322 26.1569 54.258 26.1569C51.6793 26.1569 49.1619 27.0449 47.1692 28.6578C46.7015 29.0365 46.0149 28.9646 45.6351 28.4964C45.2564 28.0282 45.3278 27.341 45.7971 26.9618C48.1765 25.0362 51.1813 23.9751 54.258 23.9751C61.635 23.9751 67.6366 29.9181 67.6366 37.2237V40.792C67.6366 42.3538 66.3576 43.6248 64.7852 43.6248Z" fill="currentColor"/>
        <path d="M54.2573 22.387C49.931 22.387 46.4116 18.8996 46.4116 14.6132C46.4116 10.3268 49.931 6.83887 54.2573 6.83887C58.5842 6.83887 62.1041 10.3263 62.1041 14.6132C62.1041 18.9001 58.5837 22.387 54.2573 22.387ZM54.2573 9.02069C51.1343 9.02069 48.5934 11.5296 48.5934 14.6132C48.5934 17.6968 51.1343 20.2052 54.2573 20.2052C57.3814 20.2052 59.9223 17.6968 59.9223 14.6132C59.9223 11.5296 57.3809 9.02069 54.2573 9.02069Z" fill="currentColor"/>
        <path d="M48.6243 48.0002H19.0121C17.045 48.0002 15.4448 46.4118 15.4448 44.459V39.4402C15.4448 29.41 23.6863 21.25 33.8182 21.25C43.9502 21.25 52.1916 29.41 52.1916 39.4402V44.459C52.1916 46.4118 50.5915 48.0002 48.6243 48.0002ZM33.8182 23.4324C24.8901 23.4324 17.6266 30.6138 17.6266 39.4407V44.4595C17.6266 45.209 18.2483 45.8189 19.0121 45.8189H48.6238C49.3877 45.8189 50.0093 45.209 50.0093 44.4595V39.4407C50.0098 30.6138 42.7463 23.4324 33.8182 23.4324Z" fill="currentColor"/>
        <path d="M33.4388 19.9751C27.8799 19.9751 23.3564 15.4949 23.3564 9.98704C23.3564 4.47976 27.8794 0 33.4388 0C38.9988 0 43.5218 4.48029 43.5218 9.98757C43.5218 15.4954 38.9983 19.9751 33.4388 19.9751ZM33.4388 2.18182C29.0827 2.18182 25.5383 5.68359 25.5383 9.98757C25.5383 14.2921 29.0827 17.7939 33.4388 17.7939C37.7955 17.7939 41.3399 14.2921 41.3399 9.98757C41.3399 5.68359 37.7955 2.18182 33.4388 2.18182Z" fill="currentColor"/>
      </svg>
    ),
    description: "Notre Direction RH est le Moteur humain de l'entreprise, on gère l'ensemble du cycle de vie des employés, on prend en charge le recrutement, l'intégration, la rémunération du personnel et les avantages sociaux, la formation, la gestion des compétences en passant par le licenciement ou la retraite.",
  },
];

export default function CareersPage() {
  const [activeDept, setActiveDept] = useState(DEPARTMENTS[2]); // Marketing default
  const [formDept, setFormDept] = useState(DEPARTMENTS[2].id);

  // Scroll to top
  useEffect(() => {
    window.scrollTo(0, 0);
  }, []);

  // Update form select when active department changes in the carousel
  useEffect(() => {
    setFormDept(activeDept.id);
  }, [activeDept]);

  const scrollToForm = () => {
    document.getElementById("career-form")?.scrollIntoView({ behavior: "smooth" });
  };

  return (
    <div className="relative min-h-screen bg-[#031B17] font-['Montserrat'] text-white overflow-hidden">
      {/* Global Background Texture */}
      <div className="fixed inset-0 pointer-events-none z-0">
        <div className="absolute top-[-20%] left-[-10%] w-[900px] h-[900px] bg-[radial-gradient(circle,rgba(21,105,83,0.3),transparent_70%)]" />
        <div className="absolute top-[40%] right-[-10%] w-[700px] h-[700px] bg-[radial-gradient(circle,rgba(225,187,127,0.1),transparent_70%)]" />
        <div
          className="absolute inset-0 opacity-[0.05] mix-blend-overlay"
          style={{
            backgroundImage: 'url("/texture.png")',
            backgroundSize: "1200px",
            backgroundRepeat: "repeat",
          }}
        />
      </div>

      <Header className="absolute top-0 left-0 z-40 w-full" />

      {/* --- HERO SECTION --- */}
      <section className="relative h-[80vh] w-full overflow-hidden">
        <img
          src="/careers-hero.png" // Placeholder path, user might need to update
          alt="Team Aymen Promotion"
          className="absolute inset-0 h-full w-full object-cover"
        />
        <div className="absolute inset-0 bg-black/40" />

        <div className="absolute inset-0 z-10 flex flex-col justify-end px-6 pb-12 md:px-20 md:pb-24">
          <motion.div
            initial={{ opacity: 0, y: 30 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8 }}
            className="max-w-xl ml-auto text-right"
          >
            <h1 className="mb-6 text-3xl font-bold leading-tight text-white md:text-5xl">
              Boostez votre
              <br />
              carrière avec nous!
            </h1>
            <button
              onClick={scrollToForm}
              className="rounded-full border border-[#F7C66A] px-8 py-3 text-xs font-bold uppercase tracking-widest text-white transition hover:bg-[#F7C66A] hover:text-[#031B17]"
            >
              JE POSTULE
            </button>
          </motion.div>
        </div>
      </section>

      {/* --- DEPARTMENTS SECTION --- */}
      <section className="relative z-10 py-24 text-center">
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          transition={{ duration: 0.8 }}
          className="container mx-auto px-6"
        >
          <div className="mb-12">
            <span className="font-['PhotographSignature'] text-5xl text-[#F7C66A]">
              Découvrez
            </span>
            <h2 className="mt-2 text-3xl font-bold uppercase tracking-widest text-white md:text-4xl">
              NOS DÉPARTEMENTS
            </h2>
          </div>

          {/* Icons Grid/Carousel */}
          <div className="mb-12 h-[300px] flex items-center justify-center relative perspective-1000">
            {DEPARTMENTS.map((dept, idx) => {
              const activeIndex = DEPARTMENTS.findIndex(item => item.id === activeDept.id);
              let visualPosition = 0; 
              
              // Determine position relative to active index (circular logic)
              if (idx === activeIndex) {
                visualPosition = 0; // Center
              } else if (idx === (activeIndex - 1 + DEPARTMENTS.length) % DEPARTMENTS.length) {
                visualPosition = -1; // Left
              } else if (idx === (activeIndex + 1) % DEPARTMENTS.length) {
                visualPosition = 1; // Right
              } else if (idx === (activeIndex - 2 + DEPARTMENTS.length) % DEPARTMENTS.length) {
                 visualPosition = -2; // Far Left
              } else if (idx === (activeIndex + 2) % DEPARTMENTS.length) {
                 visualPosition = 2; // Far Right
              } else {
                 visualPosition = 3; // Hidden
              }

              // Styling based on position
              let positionClass = "";
              let zIndex = 0;
              let opacity = 0;
              let scale = 0;
              let x = "0%";

              if (visualPosition === 0) {
                 zIndex = 30;
                 opacity = 1;
                 scale = 1.2;
                 x = "0%";
                 positionClass = "bg-[#F7C66A] text-[#031B17] shadow-2xl shadow-[#F7C66A]/20";
              } else if (visualPosition === -1) {
                 zIndex = 20;
                 opacity = 0.7;
                 scale = 0.9;
                 x = "-120%";
                 positionClass = "bg-gray-200/90 text-[#031B17] cursor-pointer hover:bg-white";
              } else if (visualPosition === 1) {
                 zIndex = 20;
                 opacity = 0.7;
                 scale = 0.9;
                 x = "120%";
                 positionClass = "bg-gray-200/90 text-[#031B17] cursor-pointer hover:bg-white";
              } else if (visualPosition === -2) {
                 zIndex = 10;
                 opacity = 0.4;
                 scale = 0.7;
                 x = "-220%";
                 positionClass = "bg-gray-200/60 text-[#031B17] cursor-pointer hover:bg-white";
              } else if (visualPosition === 2) {
                 zIndex = 10;
                 opacity = 0.4;
                 scale = 0.7;
                 x = "220%";
                 positionClass = "bg-gray-200/60 text-[#031B17] cursor-pointer hover:bg-white";
              } else {
                 opacity = 0;
                 scale = 0;
              }

              if (opacity === 0) return null;

              return (
                <motion.div
                  key={dept.id}
                  onClick={() => setActiveDept(dept)}
                  className={`absolute flex items-center justify-center rounded-2xl transition-all duration-500 cursor-pointer ${positionClass}`}
                  style={{ 
                    width: "140px", 
                    height: "140px",
                    zIndex: zIndex,
                  }}
                  animate={{ 
                    x: x,
                    scale: scale,
                    opacity: opacity
                  }}
                  transition={{ type: "spring", stiffness: 300, damping: 30 }}
                >
                  <div className="transform scale-110">
                    {dept.icon}
                  </div>
                </motion.div>
              );
            })}
          </div>

          {/* Active Description */}
          <div className="mx-auto max-w-3xl">
            <motion.div
              key={activeDept.id}
              initial={{ opacity: 0, y: 10 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5 }}
            >
              <h3 className="mb-4 text-xl font-bold uppercase tracking-widest text-[#F7C66A]">
                {activeDept.label}
              </h3>
              <p className="text-sm leading-relaxed text-white/80 md:text-base">
                {activeDept.description}
              </p>
            </motion.div>
          </div>
        </motion.div>
      </section>

      {/* --- APPLICATION FORM SECTION --- */}
      <section id="career-form" className="relative z-10 py-24">
        <div className="container mx-auto max-w-5xl px-6">
          <motion.div
            initial={{ opacity: 0, scale: 0.95 }}
            whileInView={{ opacity: 1, scale: 1 }}
            viewport={{ once: true }}
            transition={{ duration: 0.8 }}
            className="rounded-3xl bg-[#052620]/80 p-8 shadow-2xl backdrop-blur-md md:p-16 border border-white/5"
          >
            <div className="mb-12 text-center">
              <span className="font-['PhotographSignature'] text-5xl text-[#F7C66A]">
                Construisez Votre Avenir
              </span>
              <h2 className="mt-2 text-3xl font-bold uppercase tracking-widest text-white md:text-4xl">
                AVEC NOUS
              </h2>
              <p className="mx-auto mt-6 max-w-2xl text-sm text-white/70">
                Intégrer Aymen Promotion, c'est choisir un parcours professionnel riche de défis et d'opportunités, dans une entreprise leader sur son marché et tournée vers l'avenir. Rejoignez-nous et construisons ensemble les projets de demain.
              </p>
            </div>

            <form className="grid grid-cols-1 gap-6 md:grid-cols-2">
              {/* Nom */}
              <div className="space-y-1">
                <input
                  type="text"
                  placeholder="NOM"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Prénom */}
              <div className="space-y-1">
                <input
                  type="text"
                  placeholder="PRÉNOM"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Téléphone */}
              <div className="space-y-1">
                <input
                  type="tel"
                  placeholder="+213"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Email */}
              <div className="space-y-1">
                <input
                  type="email"
                  placeholder="EMAIL"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Département (Select) - New Requirement */}
              <div className="space-y-1">
                <div className="relative">
                  <select
                    value={formDept}
                    onChange={(e) => setFormDept(e.target.value)}
                    className="w-full appearance-none rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none [&>option]:bg-[#031B17] [&>option]:text-white"
                  >
                    {DEPARTMENTS.map((dept) => (
                      <option key={dept.id} value={dept.id}>
                        DÉPARTEMENT {dept.label}
                      </option>
                    ))}
                  </select>
                  {/* Custom Arrow */}
                  <div className="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-[#F7C66A]/50">
                    <svg width="10" height="6" viewBox="0 0 10 6" fill="none">
                      <path d="M1 1L5 5L9 1" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>

              {/* Poste */}
              <div className="space-y-1">
                <input
                  type="text"
                  placeholder="POSTE SOUHAITÉ"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Lien Portfolio (Full width on mobile, span 2 on desktop if needed, but keeping grid balanced) */}
              <div className="space-y-1 md:col-span-2">
                <input
                  type="url"
                  placeholder="LIEN VERS VOTRE PORTFOLIO (URL)"
                  className="w-full rounded border border-[#F7C66A]/30 bg-transparent px-4 py-3 text-xs uppercase tracking-wider text-white placeholder-white/40 transition focus:border-[#F7C66A] focus:bg-white/5 focus:outline-none"
                />
              </div>

              {/* Upload CV Box (Span 2) */}
              <div className="md:col-span-2">
                <label className="flex h-32 w-full cursor-pointer flex-col items-center justify-center rounded border border-dashed border-[#F7C66A]/30 bg-transparent transition hover:border-[#F7C66A] hover:bg-[#F7C66A]/5">
                  <div className="flex flex-col items-center justify-center pb-6 pt-5 text-center">
                    <svg className="mb-3 h-8 w-8 text-[#F7C66A]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <p className="text-xs uppercase tracking-wider text-white/80">
                      <span className="font-bold text-[#F7C66A]">Télécharger votre CV</span>
                    </p>
                    <p className="mt-1 text-[10px] text-white/50">Format PDF uniquement</p>
                  </div>
                  <input type="file" className="hidden" accept=".pdf" />
                </label>
              </div>

              {/* Submit Button */}
              <div className="mt-4 flex justify-end md:col-span-2">
                <button
                  type="submit"
                  className="rounded-full bg-[#F7C66A] px-12 py-3 text-sm font-bold uppercase tracking-widest text-[#031B17] transition hover:bg-white hover:text-[#031B17] shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
                >
                  Envoyer
                </button>
              </div>
            </form>
          </motion.div>
        </div>
      </section>

      <Footer />
    </div>
  );
}
